# Aldrnari Gamepad Setup & Guide

![Logo](https://i.imgur.com/qOPBy7D.png)

Setting up Aldrnari with a gamepad can be a daunting task with all of it's extra features and possible keybinds. In addition to that, the main combat mod, Engarde, works in such a way that dodges and power attacks won't respond to your analog stick movements - effectively locking you out of most of your defensive and offensive options right off the bat. There are some workarounds such as mapping your controller to keyboard keys for movement, but this is less than ideal. With this guide, you'll be able to play Aldrnari utilizing all of what it's systems have to offer with your gamepad (mostly comfortably) while still enjoying all of what a controller brings to the table. Finally, you won't have to download any crazy software or tinker around with configurations - all of that has been done for you and is easily available within Steam's controller configuration tool.

... You *will* have to spend time and read this guide in its entirety though, otherwise you will be lost when trying to use your controller in game. You will also be told to RTFM if you ask any questions about controller support in the Aldrnari support channel that are answered within this guide. 

## First Steps & Setup
### Additional Mod Activation

The first step is opening up MO2 and looking within the main pane (on the left) to ensure that the mod "Extended Hotkey System" is enabled under the "User Interface" seperator. This mod allows any key to be used as a hotkey within SKYUI's favorites menu and is integral for full utilization of your gamepad. Once you've checked the box next to the "Extended Hotkey System" mod, you can open Steam for the next step.

### Steam Controller Configuration Setup

Once you have Steam open, ensure that your controller is on and being read by Steam. From here, go over to Skyrim Special Edition in your library and click on "Controller Configuration" right underneath the logo on the right side. Now click on the "Browse Configs" button. This will bring up several options. We want to mouse over to "Community" bindings. Now, depending on the controller you're using, you may have to click the button at the bottom of the screen "Show Other Controller Types" in order to see the configurations. 

The configurations were made on a PS5 controller and an Xbox Elite controller but they will still work with earlier generation models. That is to say, the PS5 controller configuration works with a PS4 controller and the Xbox Elite configuration works with any Xbox controller. If you're using some sort of wonky 3rd party controller, it *should* work with the Xbox configuration. My configurations are most likely down at the bottom of the list and are titled "Aldrnari Controller Configuration (Controller Type) V1.0." You should use the newest Xbox configuration, V1.1 as I forgot the standing power attack keybind in the V1.0. Apply the appropriate configuration and you can move on to the next steps.

## Configuration Explanation

These configurations were made possible by Steam's "shift modifier" and "action layer" options. What that means is this - While playing normally, you have the vanilla keybinds (for the most part). However, when you hold one or two of the modifiers, you get another set of new keybinds. I made both configurations virtually the same between PS4/5 and Xbox for ease of use. The two modifiers I make extensive use of are the LB and RB buttons on the Xbox controller and L1, R1 & Right Side Pad (RSP) on the PS4/5 controller. That means their vanilla functions have been remapped elswhere on the controller where it makes sense in order to free them up for modifier usage. These will be your main mode of switching your "focus".

With how many keybinds are necessary to fully utilize ultra-modded Skyrim, any gamepad setup can get quite complicated. With that being said, I have attempted to make this less daunting by having each modifier have a specific "focus." Here are the areas of "focus" that I built into the configurations:

- Directional Pad Buttons (Hotkey Focus): Holding LB/L1 will give you access to your first 4 group hotkeys (from SkyUI, more on that later) and are located on the directional pad. Holding LB/L1 and then RB/R1 will give you access to the remaining 4 groups, also on your directional pad. 
- Directional Pad Buttons (Follower Focus): Holding RB/RSP gives you access to several of the follower commands from Follower Framework, mapped to the directional buttons. Holding RB/RSP and then LB/L1 gives you access to the remaining 4 follower commands, also on the directional pad.


- Face Buttons (Combat Actions Focus): Holding LB/L1 will give you access to all four directional dodges available from Engarde (Read the [Modified Gameplay.md](https://github.com/SovnSkyrim/Aldrnari/blob/main/Modified%20Gameplay.md) for more information about it) which are located on the face buttons in the directions that make sense - the left button (Square for PS4/5 or X for Xbox) makes you dodge left, and the right button (Circle for PS4/5 or B for Xbox) makes you dodge right etc. Holding LB/L1 and then RB/R1 will give you access to your power attacks from Engarde. These were also implemented in the same way as the dodges - Square/X gives you the left power attack and Circle/B gives you the right power attack. The one exception to this is the standing power attack. This was mapped to holding L1 and then pressing the right trigger for PS4/5 and holding RB and pressing the right trigger for Xbox as there was no more room on the face button pad. 
- Face Buttons (Campfire Actions): Holding RB/RSP will give you all four Campfire actions on your face buttons (Square/X = Create Item, Triangle/Y = Build Campfire, Circle/B = Harvest Wood, and X/A = Instincts.)



## Keybindings

This section will list out the keybinding setup for both controller configurations. The way these configurations work is with modifier buttons which allow us all the extra buttons we need. I use the vanilla control scheme for both the keyboard (with one exception) and the controller so you don't need to adjust anything. You will, however, need to memorize these keybinds. My aim was to make them make sense and be user friendly, but that does not mean they can't be improved. For those of you that want to edit things - feel free to do so but know that you void any support in the Aldrnari support channel if you do. 

### PS4/PS5:

I highly suggest you take a look at the configurations and familiarize yourself with the buttons. All have been labeled so you can easily see what button does what. They will also be listed for a comprehensive view of every keybind, but they will make more sense if you visualize them in the configuration. Make sure to switch between all three layers (Default, L1 Hotkeys and Right Pad Hotkeys).

![image](https://user-images.githubusercontent.com/89932487/133136888-ee39bf3c-5fbf-42d4-87dd-b53b91d09375.png)

Keybinds (No Modifiers)                            
- L1 - Modifier Button & Left Shift 
- L2 - Left Hand
- R1 - Power/Shout
- R2 - Right Hand
- Dpad Left - Hotkey
- Dpad Down - Open Favorites
- Dpad Right - Hotkey
- Dpad Up - Open Favorites
- Square - Ready/Sheath
- X - Activate
- Circle - Tween Menu
- Triangle - Jump
- Left Stick Click - Sprint
- Right Stick Click - Lock On
- Share (left side) - Wait 
- Start (right side) - System Menu
- Left Pad - Switch Shoulder Cam View
- Right Pad - Modifier Button

Keybinds (L1 Modifier) - This button must be held down for the following keybinds to work
- L1 + R2 - Standing Power Attack
- L1 + Dpad Left - Group 1
- L1 + Dpad Down - Group 2
- L1 + Dpad Right - Group 3
- L1 + Dpad Up - Group 4
- L1 + Square - Dodge Left
- L1 + X - Dodge Backwards
- L1 + Circle - Dodge Right
- L1 + Triangle - Dodge Forward
- L1 + Left Stick Click - Sneak
- L1 + Right Stick Click - Toggle POV
- L1 + Share (left side) - Quick Health Potion 
- L1 + Start (right side) - Quick Magicka Potion
- L1 + Right Pad - Modifier Button

Keybinds (L1 + R1 Modifiers) - You must hold L1 THEN hold R1 for the following keybinds to work
- L1 + R1 + Dpad Left - Group 5
- L1 + R1 + Dpad Down - Group 6
- L1 + R1 + Dpad Right - Group 7
- L1 + R1 + Dpad Up - Group 8
- L1 + R1 + Square - Left Power Attack
- L1 + R1 + X - Backwards Power Attack
- L1 + R1 + Circle - Right Power Attack
- L1 + R1 + Triangle - Forward Power Attack

Keybinds (Right Side Pad (RSP) Modifier) - This button must be held down for the following keybinds to work
- RSP + Dpad Left - Follower Command
- RSP + Dpad Down - Follower Retreat
- RSP + Dpad Right - Follower Calm
- RSP + Dpad Up - Follower Attack
- RSP + Share - Immersive HUD Toggle
- RSP + Start - Forceful Tongue Shout Skill Tree

Keybinds (RSP + L1 Modifiers) - You must hold RSP THEN L1 for the following keybinds to work
- RSP + L1 + Dpad Left - Follower Trade
- RSP + L1 + Dpad Down - Follower Get Behind Me
- RSP + L1 + Dpad Right - Follower Wait
- RSP + L1 + Dpad Up - Follower Teleport

Keybinds (RSP + R1 Modifiers) - You must hold RSP THEN R1 for the following keybinds to work
- RSP + R1 + Square - Create Item
- RSP + R1 + X - Instincts
- RSP + R1 + Circle - Harvest Wood
- RSP + R1 + Triangle - Build Campfire

### Xbox:

I highly suggest you take a look at the configurations and familiarize yourself with the buttons. All have been labeled so you can easily see what button does what. They will also be listed for a comprehensive view of every keybind, but they will make more sense if you visualize them in the configuration. Make sure to switch between all three layers (Default, LB Hotkeys and RB Hotkeys).

![image](https://user-images.githubusercontent.com/89932487/133154424-9fea2031-ed45-40b1-84fc-fda1e096b1ab.png)

Keybinds (No Modifiers)                            
- LB - Modifier Button & Left Shift 
- LT - Left Hand
- RB - Modifier Button
- RT - Right Hand
- Dpad Left - Hotkey
- Dpad Down - Open Favorites
- Dpad Right - Hotkey
- Dpad Up - Open Favorites
- X - Ready/Sheath
- A - Activate
- B - Tween Menu
- Y - Jump
- Left Stick Click - Sprint
- Right Stick Click - Lock On
- Select (left side) - Wait 
- Start (right side) - System Menu

Keybinds (LB Modifier) - This button must be held down for the following keybinds to work
- LB + RT - Shout/Power
- LB + Dpad Left - Group 1
- LB + Dpad Down - Group 2
- LB + Dpad Right - Group 3
- LB + Dpad Up - Group 4
- LB + X - Dodge Left
- LB + A - Dodge Backwards
- LB + B - Dodge Right
- LB + Y - Dodge Forward
- LB + Left Stick Click - Sneak
- LB + Right Stick Click - Toggle POV
- LB + Share (left side) - Quick Health Potion 
- LB + Start (right side) - Quick Magicka Potion

Keybinds (LB + RB Modifiers) - You must hold LB THEN hold RB for the following keybinds to work
- LB + RB + Dpad Left - Group 5
- LB + RB + Dpad Down - Group 6
- LB + RB + Dpad Right - Group 7
- LB + RB + Dpad Up - Group 8
- LB + RB + X - Left Power Attack
- LB + RB + A - Backwards Power Attack
- LB + RB + B - Right Power Attack
- LB + RB + Y - Forward Power Attack

Keybinds (RB Modifier) - This button must be held down for the following keybinds to work
- RB + Dpad Left - Follower Command
- RB + Dpad Down - Follower Retreat
- RB + Dpad Right - Follower Calm
- RB + Dpad Up - Follower Attack
- RB + Left Stick Click - Immersive HUD Toggle
- RB + Right Stick Click - Forceful Tongue Shout Skill Tree

Keybinds (RB + LB Modifiers) - You must hold RB THEN LB for the following keybinds to work
- RB + LB + Dpad Left - Follower Trade
- RB + LB + Dpad Down - Follower Get Behind Me
- RB + LB + Dpad Right - Follower Wait
- RB + LB + Dpad Up - Follower Teleport
- RB + LB + X - Create Item
- RB + LB + A - Instincts
- RB + LB + B - Harvest Wood
- RB + LB + Y - Build Campfire

## MCM & Control Settings

You're nearly there! We just need to change one vanilla keyboard control and setup the MCMs for our hotkeys to work correctly. 

### Vanilla Control Changes

You have but one key to change here, and that is to remap the command Run from "shift" to "Numpad."

### MCM Settings

It is imperative that you map all keys exactly as they are in this guide! The configurations were built around these specific keybinds, so if you change any of them, you'll have to change the Steam Controller Configurations as well. 

#### Campfire
- Gameplay
  - Hotkeys
    - Create Item - N
    - Build Campfire - B
    - Harvest Wood - H
    - Instincts - G

#### Engarde
- KeyButton
  - Power Attack Key - ]
  - Defensive Action Key - \

#### Follower Framework
- Activity
  - Catch Up (Teleport) 
    - Teleport Followers Hotkey - Numpad 7
  - Waiting
    - Followers Wait/Follow Key - Numpad 5
- System
  - Follower Action Keybinds
    - Command Followers - Numpad 1
    - Followers Attack - Numpad 4
    - Followers Retreat - Numpad 2
    - Calm Followers - Numpad 3
    - Followers Behind You - Numpad 6
    - Trade Items - Numpad 8

#### Forceful Tongue
  - Dragonborn Skill Menu Hotkey - ;

#### Immersive Hud
  - Activation
    - Compass Activation
      - iHUD Hotkey - x

#### Optimal Potion Hotkey
  - 







